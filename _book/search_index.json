[
["social-network-structure.html", "10 Social network structure 10.1 The Basics 10.2 Plotting networks 10.3 Analyse networks", " 10 Social network structure As we have seen in the previous chapter, sometimes more detailed modelling can lead to different results (compared to the abstract case) ……. Henrich’s model, for example, has shown that a populations ability to maintain and accumulate cultural traits depends on its size, whereby larger populations are more likely to retain and improve cultural traits than smaller ones. We used this model as an example that population-level characteristics (here, demography) play a role in cultural dynamics. Given that individuals acquire information from other individuals through social learning, we might also suspect that individual-level phenomena are important, too. Commonly, individual interactions are represented as networks, whereby nodes (also referred to as vertex, pl. vertices) represent individuals, and ties (also referred to as edges) between any two nodes indicate a relationship (e.g. friendship or kinship, or willingness to cooperate, etc.). Note, as with the term individaul-based models, the individual can be a person but it can also represent a country, an institution, or any other kind of actor. In this chapter, we will cover the basics of social networks, how to create, analyse, and use them. Finally, we will use all of that to find an answer to the question: how do individual-level interaction patterns affect population-level cultural dynamics? 10.1 The Basics Let us start with a small group of colleagues who see each other on a regular base in the office, some are friends, and some are not (sometimes the friendships might not even be reciprocal). For this example, we use gossip as the socially transmitted information. Say, we want to better undersand how gossip is spreading through this group. At simplest level, we might assume that: any two colleagues will exchange gossip whenever they meet. This would reduce the group of colleagues to a well-mixed population, where information can flow freely. However, assume that gossip is only transmitted if two friends interact. Now we have a situation, where information flow is constrained by the underlying friendship network. To explore, how information can spead in that friendship network, we first need to find a way to represent it in R. One way to represent networks is an adjacency matrix. It is a square matrix where all individuals of a population are represent as columns and rows. m &lt;- matrix(c(0,1,1, 0,0,1, 1,1,0), nrow=3, byrow=T) row.names(m) &lt;- c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;) colnames(m) &lt;- c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;) m ## A B C ## A 0 1 1 ## B 0 0 1 ## C 1 1 0 The matrix above is an example for such an adjacency matrix. Shown are the relationships between three individuals (A, B, and C). When we look at the first row, we see that A has no interaction with itself (indicated by the zero), but interacts both with B and C (indicated by the ones). From the next row we see that B is only interacting with C, and the last row tell us that C interacting both with A and with B. This is an example for an asymmetrix adjacency matrix, because not all interactions are reciprocal (A is interacting with B but B is not interacting with A). We can test this by comparing the upper trianle of the matrix with the lower triangle of the matrix: all(m[upper.tri(m)] == m[lower.tri(m)]) ## [1] FALSE We can make this matrix symmetric by replacing the lower matrix triangle with the upper one (this requires us to first transpose the triangle using the t() function): # Either m[lower.tri(m)] &lt;- t(m)[lower.tri(m)] # or use m[2,1] &lt;- 1 m ## A B C ## A 0 1 1 ## B 1 0 1 ## C 1 1 0 # Check whether the matrix is symmetric now: all(m[upper.tri(m)] == m[lower.tri(m)]) ## [1] TRUE Now let us turn back to out group of co-workers, and let us create a random friendship network. We start with an empty adjacency matrix, add friendships to the upper triangle and then copy the mirror image to the lower triangle (this is assuming that friendships are reciprocal): n &lt;- 10 adjm &lt;- matrix(NA, ncol=n, nrow=n) adjm ## [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] ## [1,] NA NA NA NA NA NA NA NA NA NA ## [2,] NA NA NA NA NA NA NA NA NA NA ## [3,] NA NA NA NA NA NA NA NA NA NA ## [4,] NA NA NA NA NA NA NA NA NA NA ## [5,] NA NA NA NA NA NA NA NA NA NA ## [6,] NA NA NA NA NA NA NA NA NA NA ## [7,] NA NA NA NA NA NA NA NA NA NA ## [8,] NA NA NA NA NA NA NA NA NA NA ## [9,] NA NA NA NA NA NA NA NA NA NA ## [10,] NA NA NA NA NA NA NA NA NA NA Now, we randomly assign friendships to one of the triangles. We sample from zeros (no friends) and ones (friends) with equal probability (we could change this value to be higher or lower to simulate groups with more or less friendships): friendshipRatio &lt;- 0.5 adjm[upper.tri(adjm)] &lt;- sample(x = 0:1, size = n*(n-1)/2, replace = T, prob = c(1-friendshipRatio, friendshipRatio)) adjm ## [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] ## [1,] NA 1 0 0 1 0 1 0 1 0 ## [2,] NA NA 0 1 1 0 1 0 0 1 ## [3,] NA NA NA 1 1 0 1 1 1 0 ## [4,] NA NA NA NA 0 0 0 1 0 0 ## [5,] NA NA NA NA NA 0 1 1 1 1 ## [6,] NA NA NA NA NA NA 0 1 1 1 ## [7,] NA NA NA NA NA NA NA 0 1 1 ## [8,] NA NA NA NA NA NA NA NA 0 0 ## [9,] NA NA NA NA NA NA NA NA NA 1 ## [10,] NA NA NA NA NA NA NA NA NA NA # add the mirror image to the lower triangle adjm[lower.tri(adjm)] &lt;- t(adjm)[lower.tri(adjm)] adjm ## [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] ## [1,] NA 1 0 0 1 0 1 0 1 0 ## [2,] 1 NA 0 1 1 0 1 0 0 1 ## [3,] 0 0 NA 1 1 0 1 1 1 0 ## [4,] 0 1 1 NA 0 0 0 1 0 0 ## [5,] 1 1 1 0 NA 0 1 1 1 1 ## [6,] 0 0 0 0 0 NA 0 1 1 1 ## [7,] 1 1 1 0 1 0 NA 0 1 1 ## [8,] 0 0 1 1 1 1 0 NA 0 0 ## [9,] 1 0 1 0 1 1 1 0 NA 1 ## [10,] 0 1 0 0 1 1 1 0 1 NA # replace diagonal (these indicate self-references) with zeros diag(adjm) &lt;- 0 adjm ## [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] ## [1,] 0 1 0 0 1 0 1 0 1 0 ## [2,] 1 0 0 1 1 0 1 0 0 1 ## [3,] 0 0 0 1 1 0 1 1 1 0 ## [4,] 0 1 1 0 0 0 0 1 0 0 ## [5,] 1 1 1 0 0 0 1 1 1 1 ## [6,] 0 0 0 0 0 0 0 1 1 1 ## [7,] 1 1 1 0 1 0 0 0 1 1 ## [8,] 0 0 1 1 1 1 0 0 0 0 ## [9,] 1 0 1 0 1 1 1 0 0 1 ## [10,] 0 1 0 0 1 1 1 0 1 0 This is all we need to describe the interactions and the flow of information within this group. And while we could already use other tools in R to analyse it, we should first try to visualise this network to get a better intuition of what this group actualy looks like. The igraph package provides many incredibly useful functions and tools to create, work with, and analyse networks. We will rely on many of its functions in this chapter. 10.2 Plotting networks Given that we already have an adjacency matrix, we can create a network using the graph_from_adjacency_matrix() function. net &lt;- graph_from_adjacency_matrix(adjm) net ## IGRAPH 3d8d419 D--- 10 48 -- ## + edges from 3d8d419: ## [1] 1-&gt; 2 1-&gt; 5 1-&gt; 7 1-&gt; 9 2-&gt; 1 2-&gt; 4 2-&gt; 5 2-&gt; 7 2-&gt;10 3-&gt; 4 ## [11] 3-&gt; 5 3-&gt; 7 3-&gt; 8 3-&gt; 9 4-&gt; 2 4-&gt; 3 4-&gt; 8 5-&gt; 1 5-&gt; 2 5-&gt; 3 ## [21] 5-&gt; 7 5-&gt; 8 5-&gt; 9 5-&gt;10 6-&gt; 8 6-&gt; 9 6-&gt;10 7-&gt; 1 7-&gt; 2 7-&gt; 3 ## [31] 7-&gt; 5 7-&gt; 9 7-&gt;10 8-&gt; 3 8-&gt; 4 8-&gt; 5 8-&gt; 6 9-&gt; 1 9-&gt; 3 9-&gt; 5 ## [41] 9-&gt; 6 9-&gt; 7 9-&gt;10 10-&gt; 2 10-&gt; 5 10-&gt; 6 10-&gt; 7 10-&gt; 9 When we return the net object, we receive a lot of information about our network, for example, that it is there are 10 vertices and 48 edges (for more information be sure to have a look at this short igraph introduction). However, we did not receive an actual network figure. For this, we can use the R’s generic plot function: #set.seed(1) plot(net) This is the most basic network plot where each node (with the numbers 1 to 10) and their connections (edges/ties) are plotted such that nodes that receive more connections are more central and those that receive less are more peripheral. Note, every time you plot the network, it will have a slightly different layout. If you would like to preserve the node positions you can uncomment the set.seed() function in the code chunck above. There are many ways to change the looks of network plots. The igraph manual is an ideal starting point to learn more about it. For example, we could plot nodes based on specific layout functions: par(mfrow=c(1,2)) plot(net, layout=layout.grid(net), main=&quot;Grid layout&quot;) plot(net, layout=layout.circle(net), main=&quot;Ring layout&quot;) Or we can directly change the size, and colour of nodes: par(mfrow=c(1,1)) plot(net, vertex.color=&quot;dodgerblue&quot;, vertex.label.color=&quot;white&quot;, vertex.size=20, edge.color=&quot;black&quot;, edge.width=1, edge.arrow.size=0.5, main=&quot;Default layout with styling&quot;) In the previous example, we have changed the colour of the nodes’ background and text, and their overall size (attributes starting with vertex.). We have also changed the colour of the edges, their width, and the size of the tips (attributes starting with edge.). Let’s say, we know the age of each individual and we would like to visualise age as different colours of the nodes. For that, we should first store the colour information for each vertex (using the V() function) and then change the vertex colour in the plot function: # There is no age attribute set V(net)$age ## NULL # Add an age attribute and randomly assign an age class V(net)$age &lt;- sample(x=1:10, size=n, replace=T) # The network now has an age attribute V(net)$age ## [1] 7 8 5 6 10 10 8 8 2 9 V(net)$colour &lt;- heat.colors(n=10)[V(net)$age] net ## IGRAPH 3d8d419 D--- 10 48 -- ## + attr: age (v/n), colour (v/c) ## + edges from 3d8d419: ## [1] 1-&gt; 2 1-&gt; 5 1-&gt; 7 1-&gt; 9 2-&gt; 1 2-&gt; 4 2-&gt; 5 2-&gt; 7 2-&gt;10 3-&gt; 4 ## [11] 3-&gt; 5 3-&gt; 7 3-&gt; 8 3-&gt; 9 4-&gt; 2 4-&gt; 3 4-&gt; 8 5-&gt; 1 5-&gt; 2 5-&gt; 3 ## [21] 5-&gt; 7 5-&gt; 8 5-&gt; 9 5-&gt;10 6-&gt; 8 6-&gt; 9 6-&gt;10 7-&gt; 1 7-&gt; 2 7-&gt; 3 ## [31] 7-&gt; 5 7-&gt; 9 7-&gt;10 8-&gt; 3 8-&gt; 4 8-&gt; 5 8-&gt; 6 9-&gt; 1 9-&gt; 3 9-&gt; 5 ## [41] 9-&gt; 6 9-&gt; 7 9-&gt;10 10-&gt; 2 10-&gt; 5 10-&gt; 6 10-&gt; 7 10-&gt; 9 The net object now has two attributes (one is called age, with numeric values, and one is called colour, with character values). We can now plot this graph: plot(net, vertex.color=V(net)$colour, vertex.label.color=&quot;black&quot;, vertex.size=20, edge.color=&quot;black&quot;, edge.width=1, edge.arrow.size=0.5) It can be useful to remove the text in each node and make the nodes smaller, especially when the networks become large. Also, given that we have a symmetric network (all relationships are reciprocal), we can get rid of the arrow tips. We do this by telling igraph that the network is undirected. net &lt;- as.undirected(net) plot(net, vertex.color=V(net)$colour, vertex.label=&quot;&quot;, vertex.size=9, edge.width=1, edge.arrow.size=0.5) One final styling example. So far, we have the edges indicate the existence of a friendship relationship, which is a binary quality. However, we can also imagine friendshi as a continous variable. Using the edge function E(), we can alter the width of edges depending on their relationship strength. To do that, we will first change the adjacency matrix (from binary to contionous) and then plot the new network. adjm2 &lt;- adjm adjm2[upper.tri(adjm2)] &lt;- runif(n=sum(upper.tri(adjm2))) * adjm2[upper.tri(adjm2)] adjm2[lower.tri(adjm2)] &lt;- t(adjm2)[lower.tri(adjm2)] net2 &lt;- graph_from_adjacency_matrix(adjm2, weighted=TRUE, mode=&quot;undirected&quot;) net2 ## IGRAPH 84b4811 U-W- 10 24 -- ## + attr: weight (e/n) ## + edges from 84b4811: ## [1] 1-- 2 1-- 5 1-- 7 1-- 9 2-- 4 2-- 5 2-- 7 2--10 3-- 4 3-- 5 3-- 7 3-- 8 ## [13] 3-- 9 4-- 8 5-- 7 5-- 8 5-- 9 5--10 6-- 8 6-- 9 6--10 7-- 9 7--10 9--10 Note, igraph automatically added an attribute called weight. Now, let’s plot this network with the edge width representing their weight: V(net2)$age &lt;- V(net)$age V(net2)$colour &lt;- V(net)$colour plot(net2, vertex.color=V(net2)$colour, vertex.label=&quot;&quot;, vertex.size=9, edge.width=E(net2)$weight*5, edge.arrow.size=0.5) Now that 10.3 Analyse networks "]
]
